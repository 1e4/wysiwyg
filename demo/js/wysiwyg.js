!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={single:!0,container:"body",hideName:!1,toolbar:[{type:"select",name:"Header Formatting",exec:"formatblock",options:{h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",p:"Paragraph",pre:"Pre"}},{type:"select",name:"Font Size",exec:"fontsize",options:{1:"Very Small",2:"Small",3:"Medium",4:"Large"}},{type:"button",name:"Bold",icon:"",exec:"bold",keybind:"17 66"},{type:"button",name:"Italic",icon:"",exec:"italic",keybind:"17 73"},{type:"button",name:"Underline",icon:"",exec:"underline",keybind:"17 85"},{type:"colorpicker",name:"Font Color",icon:"",exec:"forecolor"},{type:"button",name:"SubScript",icon:"",exec:"subscript"},{type:"button",name:"Superscript",icon:"",exec:"superscript"}]},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=Object.assign(i,n),this.el=t,t.startsWith(".")?this.elements=document.getElementsByClassName(t.replace(".","")):t.startsWith("#")?this.elements=document.getElementById(t.replace("#","")):this.elements=document.getElementsByTagName(t),this.instances=[],this.initElements()}return r(e,[{key:"initElements",value:function(){var e=this.elements;if(this.el.startsWith("#"))this.constructEditor(e);else if(0!==e.length){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.constructEditor(a)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}else console.error("No elements found with "+this.el)}},{key:"constructEditor",value:function(e){var t=e.children[0],n=[],i=this.config.toolbar.filter(function(e){return void 0!==e.keybind});if(t.addEventListener("keydown",function(e){n[n.length-1]!==e.keyCode&&n.push(e.keyCode),i.forEach(function(t){n.join(" ")===t.keybind&&(e.preventDefault(),document.execCommand(t.exec,!1,null))})}),t.addEventListener("keyup",function(e){n=n.filter(function(t){return e.keyCode!==t})}),this.instances.push(t),t.setAttribute("contenteditable",!0),!0===this.config.single&&1===this.instances.length||!1===this.config.single)if(!0===this.config.single&&void 0!==this.config.container){var r=document.getElementById(this.config.container);r.classList.add("wysiwyg-single"),r.prepend(this.addToolbar(t))}else e.prepend(this.addToolbar(t))}},{key:"addToolbar",value:function(e){var t=this,n=document.createElement("div");n.classList.add("wysiwyg-toolbar"),n.setAttribute("contenteditable",!1);var i=document.createElement("ul");for(var r in n.appendChild(i),this.config.toolbar){var o=this.config.toolbar[r],a=document.createElement("li");if(Array.isArray(o))!function(){var e=document.createElement("ul"),n=document.createElement("li");for(var i in e.classList.add("wysiwyg-control-group"),o){var r=o[i],c=t.createControl(r);for(var s in c)a.appendChild(c[s]);c.forEach(function(e){n.appendChild(e)})}e.append(n),a.appendChild(e)}();else{"select"===o.type&&(a.innerHTML=o.name,a.classList.add("has-drop-down"));var c=this.createControl(o);if(Array.isArray(c))for(var s in c)a.appendChild(c[s]);else a.appendChild(c)}i.append(a)}return n}},{key:"createControl",value:function(e){switch(e.type){case"select":return this.addSelect(e);case"button":return this.addButton(e);case"colorpicker":return this.addColorPicker(e);default:console.error("Invalid item "+e)}}},{key:"addSelect",value:function(e){var t=this,n=document.createElement("ul");this.setAttrs(n,{class:"drop-down"}),document.createElement("li").innerHTML=e.name;var i=function(i){var r=e.options[i],o=document.createElement("li"),a=document.createElement("a");a.setAttribute("href","javascript:void(0)"),t.setAttrs(a,{href:"javascript:void(0)"}),a.innerHTML=r,a.classList.add("btn"),a.addEventListener("click",function(t){document.execCommand(e.exec,!1,i)}),o.append(a),n.appendChild(o)};for(var r in e.options)i(r);return n}},{key:"addButton",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.createElement("a");return n.classList.add("btn"),n.setAttribute("href","javascript:void(0)"),n.innerHTML=""+e.icon,!0!==this.config.hideName&&(n.innerHTML+=" "+e.name),t&&n.addEventListener("click",function(t){t.preventDefault(),document.execCommand(e.exec,!1,this.value)}),n}},{key:"addColorPicker",value:function(e){var t=document.createElement("a"),n=this.generateId(),i=this.addButton(e,!1);this.setAttrs(t,{id:n,href:"javascript:void(0)"}),t.classList.add("colorpicker-preview");var r=document.createElement("input");return this.setAttrs(r,{type:"color","data-preview":n,value:"#f00f00"}),r.addEventListener("input",function(t){i.children[0].style.color=this.value,document.execCommand(e.exec,!1,this.value)}),t.appendChild(r),[i,t]}},{key:"generateId",value:function(){return"_"+Math.random().toString(36).substr(2,9)}},{key:"setAttrs",value:function(e,t){for(var n in t)e.setAttribute(n,t[n])}},{key:"getInstance",value:function(){return this.instances}},{key:"getContent",value:function(){return this.instances.map(function(e){var t=e.id,n={};return t?(n[t]=e.innerHTML,n):console.error("Invalid id")},this)}}]),e}();window.Wysiwyg=o},function(e,t){}]);